<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../src/output.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel=" stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
  </head>
  <body class="bg-gradient-to-t from-green-500 to-cyan-500 h-screen">
    <div class="flex flex-col justify-center items-center">
      <div
        class="mt-10 rounded-lg shadow-lg shadow-white w-[350px] md:w-[700px] py-5 px-7 md:px-28 bg-transparent border border-slate-100"
      >
        <div class="flex flex-row justify-between">
          <input
            type="text"
            id="lbl-text"
            class="border-b-2 border-b-black bg-transparent outline-none mr-2 w-full"
          />
          <button
            id="add-btn"
            class="bg-sky-500 text-white rounded-lg py-2 px-5 text-center text-lg"
          >
            Add
          </button>
        </div>
        <div class="mt-2 text-xl font-semibold">
          <p>you have <span id="count">0</span> task(s) to complete</p>
        </div>
      </div>
      <div
        class="mt-10 rounded-lg shadow-lg shadow-black w-[90%] sm:w-[600px] lg:w-[700px] py-5 px-5 sm:px-10 lg:px-16 bg-white/20 hidden border border-slate-100 backdrop-blur-md"
        id="type"
      >
        <ul class="space-y-4"></ul>
      </div>
    </div>

    <script>
      const addbtn = document.getElementById("add-btn");
      const inputText = document.getElementById("lbl-text");
      const count = document.getElementById("count");
      const taskList = document.querySelector("ul");
      const type = document.getElementById("type");

      let taskCount = 0;

      addbtn.addEventListener("click", function () {
        type.classList.remove("hidden");
        let input_value = inputText.value.trim();
        if (input_value === "") {
          alert("Please write something.");
          return;
        }

        // Create task item
        const taskItem = document.createElement("li");
        taskItem.classList.add("mt-4");
        taskItem.innerHTML = `
      <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white/70 text-black px-4 py-3 rounded-lg gap-3  ">
        <div class="flex flex-row gap-2 items-center text-lg">
          <input type="checkbox" class= " w-5 h-5 rounded-full  accent-cyan-600">
          <span class="text-2xl">${input_value}</span>
        </div>
        <div class="flex flex-row items-center mt-2">
          <button class="edit">
            <span class="bg-green-500  mr-2 text-white p-[10px] text-2xl relative -top-[5px] bi bi-pencil-square rounded-lg hover:scale-95 transition-transform"></span>
          </button>
          <button class="delete">
            <span class="bg-red-500   text-white p-[10px] text-2xl relative -top-[5px] bi bi-trash-fill rounded-lg hover:scale-95 transition-transform"></span>
          </button>
        </div>
      </div>
    `;

        taskList.appendChild(taskItem);
        inputText.value = "";

        taskCount++;
        count.textContent = taskCount;

        const deleteBtn = taskItem.querySelector(".delete");
        deleteBtn.addEventListener("click", function () {
          taskItem.remove();
          taskCount--;
          count.textContent = taskCount;
        });

        const editBtn = taskItem.querySelector(".edit");
        editBtn.addEventListener("click", () => {
          const span = taskItem.querySelector("span");
          const newValue = prompt("Edit task:", span.textContent);
          if (newValue && newValue.trim() !== "") {
            span.textContent = newValue.trim();
          }
        });
      });
    </script>
  </body>
</html>
